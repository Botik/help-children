{% extends 'base_client_wrapper.twig' %}

{% block title %}БФ “Помогите Детям” | Мой аккаунт{% endblock %}
{% block desciption %}БФ “Помогите Детям” | Мой аккаунт{% endblock %}
{% block keywords %}Мой аккаунт{% endblock %}

{% block content %}
    <main>
        {% include 'components/account_title.twig' %}
        <div class="bg-purple-line"></div>
        <section class="section account section-with-bghearts">
            <div class="container container--small">
                <div class="account-wrapper">
                    {% include 'components/account_nav.twig' %}         
                    <div class="account-content my-account">                                   
                        <h1 class="account-content__title my-account-title account-content-padding">Мой аккаунт</h1>
                        <div class="my-account-form-wrapper account-content-padding">
                            <form class="my-account-form js-my-account-form" method="POST">
                                <ul style="margin-bottom: 10px">
                                    {% for error in formErrors %}
                                        <li> * {{ error }}</li>
                                    {% endfor %}
                                    {% for error in errors %}
                                        <li> * {{ error }}</li>
                                    {% endfor %}
                                </ul>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-fio">
                                        <div class="my-account-form-field__label label-text">Ваше Имя</div>
                                        <input class="my-account-form-input my-account-form-input--big input-rounded"
                                            type="text"
                                            name="firstName"
                                            value="{{ userData.firstName }}">
                                    </label>
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-fio">
                                        <div class="my-account-form-field__label label-text">Ваша Фамилия</div>
                                        <input class="my-account-form-input my-account-form-input--big input-rounded"
                                            type="text"
                                            name="lastName"
                                            value="{{ userData.lastName }}">
                                    </label>
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-phone">
                                        <div class="my-account-form-field__label label-text">Ваша дата рождения</div>
                                        <input class="my-account-form-input input-rounded"
                                            id="inputDate"
                                            type="text"                                            
                                            name="birthday"
                                            value="{{ userData.birthday|date('d.m.Y') }}"
                                            placeholder="Введите дату рождения"
                                            readonly>
                                    </label>
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-phone">
                                        <div class="my-account-form-field__label label-text">Ваш номер телефона</div>
                                        <input class="my-account-form-input input-rounded"
                                            type="text"
                                            name="phone"
                                            value="{{ userData.phone }}"
                                            placeholder="Введите номер телефона"
                                            data-type="phone">
                                    </label>
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-email">
                                        <div class="my-account-form-field__label label-text">Ваша почта</div>
                                        <input class="my-account-form-input input-rounded"
                                            type="email"
                                            id="email"
                                            name="email"
                                            value="{{ userData.email }}">
                                    </label>                                                               
                                </div>
                                <div class="my-account-row">
                                    <button id='btnStatus' class="btn btn-link" style="pointer-events:none" disabled>{% if userData.confirmed == 1 %}Ваша почта подтверждена.{% else %}Ваша почта не подтверждена.{% endif %}</button>
                                        {% if userData.confirmed == 0 %}
                                            <button id='btnSend' class="btn btn-link" onclick="sendEmailConfirmCode()" style="text-decoration: underline;" type="button">Отправить письмо ещё раз</button>
                                        {% endif %}    
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-reflink">
                                        <div class="my-account-form-field__label label-text">Ваша реферальная ссылка
                                        </div>
                                        <input disabled
                                            class="my-account-form-input my-account-form-input--big input-rounded"
                                            type="text"
                                            name="reflink"
                                            value="{{ referral_url }}">
                                        <span class="icon icon-copy my-account-form-reflink__copy"></span>
                                    </label>
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-password">
                                        <div class="my-account-form-field__label label-text">Старый пароль</div>
                                        <input class="my-account-form-input input-rounded"
                                            type="password"
                                            name="oldPassword"
                                            placeholder="Ваш старый пароль"
                                            minlength="6"
                                            maxlength="64"
                                            required>
                                    </label>
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-password">
                                        <div class="my-account-form-field__label label-text">Новый пароль</div>
                                        <input class="my-account-form-input input-rounded"
                                            type="password"
                                            name="password"
                                            placeholder="Ваш новый пароль">
                                    </label>
                                </div>
                                <div class="my-account-row">
                                    <label class="my-account-form-field my-account-form-password">
                                        <div class="my-account-form-field__label label-text">Новый пароль еще раз</div>
                                        <input class="my-account-form-input input-rounded"
                                            type="password"
                                            name="retypePassword"
                                            placeholder="Ваш новый пароль">
                                    </label>
                                    <button class="btn btn-link" type="submit">Изменить</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script>
        function ready() {
            var foopicker = new FooPicker({
                id: 'inputDate',
                dateFormat: 'dd.MM.yyyy',
            });
        }
        document.addEventListener("DOMContentLoaded", ready);
    </script>
{% endblock %}
